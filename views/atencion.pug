//- Extiende el diseño base
extends layout

//- Bloque de estilos
block estilos
    //- Enlace al archivo CSS de la agenda
    link(rel="stylesheet" href="/css/atencion.css")

block contenido
    main
        .container
            form#formAtencion(method="POST")
                input(type="hidden" name="turnoId" id="turnoId" value=turnoId)
                
                //- Alergias
                fieldset
                    legend(class="fs-6 mb-4 text-primary text-wrap fs-4") Alergias
                    div(class="row g-3 mt-2")
                        div(class="col-md-6")
                            label(for="selectAlergia" class="form-label") Alergia
                            select(class="form-select" id="selectAlergia" name="alergia")
                                option(value="") Seleccione una alergia
                                if alergias && alergias.length
                                    each alergia in alergias
                                        option(value=alergia.id)= alergia.alergia
                        
                        div(class="col-md-6")
                            label(for="selectImportancia" class="form-label") Importancia
                            select(class="form-select" id="selectImportancia" name="importancia")
                                option(value="") Seleccione importancia
                                if importancias && importancias.length
                                    each importancia in importancias
                                        option(value=importancia.id)= importancia.importancia

                //- Antecedentes Patologicos
                fieldset(class="mt-4")
                    legend(class="fs-6 mb-4 text-primary text-wrap fs-4") Antecedentes Patológicos
                    textarea(class="form-control" id="antecedentesPatologicos" name="antecedentesPatologicos" rows="3")

                //- Habitos
                fieldset(class="mt-4")
                    legend(class="fs-6 mb-4 text-primary text-wrap fs-4") Hábitos
                    textarea(class="form-control" id="habitos" name="habitos" rows="3")

                //- Medicamentos en Uso
                fieldset(class="mt-4")
                    legend(class="fs-6 mb-4 text-primary text-wrap fs-4") Medicamentos en Uso
                    textarea(class="form-control" id="medicamentosUso" name="medicamentosUso" rows="3")

                //- Diagnostico
                fieldset(class="mt-4")
                    legend(class="fs-6 mb-4 text-primary text-wrap fs-4") Diagnóstico
                    div(class="row g-3")
                        div(class="col-md-6")
                            label(for="selectTipo" class="form-label") Tipo
                            select(class="form-select" id="selectTipo" name="tipoId")
                                option(value="") Seleccione tipo
                                if tipos && tipos.length
                                    each tipo in tipos
                                        option(value=tipo.id)= tipo.tipo
                        div(class="col-md-12")
                            textarea(class="form-control" id="diagnostico" name="diagnostico" rows="3")

                //- Notas Clinicas
                fieldset(class="mt-4")
                    legend(class="fs-6 mb-4 text-primary text-wrap fs-4") Notas Clínicas
                    textarea(class="form-control" id="notasClinicas" name="notasClinicas" rows="5")

                .d-grid.gap-2.d-md-flex.justify-content-md-end.mt-4
                    button(type="submit" class="btn btn-primary") Guardar Atención

    script(src="/js/atencion.js")
                